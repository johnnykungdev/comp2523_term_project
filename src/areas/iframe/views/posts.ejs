<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>devHouse: Posts</title>
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  </head>
  <%- include('./_header.ejs') %>
  <body>
    <div class="flex items-center justify-start gap-3 py-2 mx-3 border-b">
      <img
        class="w-12 h-12 rounded-full"
        src="https://user-images.githubusercontent.com/76543451/103982284-0a6f0b00-5138-11eb-872b-0b9e70fc5c25.gif"
      />
      <form id="oop_post_form" class="w-full" action="/posts" method="POST">
        <input
          class="oop_post_content w-9/12 bg-gray-200 rounded-full px-3 py-2"
          name="postText"
          placeholder="What's on your mind?"
        />
        <input
          class="transition duration-500 ease-in-out hover:bg-red-600 transform w-2/12 rounded-full p-2 bg-gray-800 cursor-pointer text-gray-200"
          type="submit"
          value="Post"
        />
      </form>
    </div>

    <section id="posts">
      <% posts.forEach(function(post){ %> <%- include('./_renderPost.ejs', {post: post, user: user}); %> <% });%>
    </section>

    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.7.3/dist/alpine.min.js" defer></script>
    <script>
      const setup = () => {
        return {
          loading: true,
          isSidebarOpen: false,
          toggleSidbarMenu() {
            this.isSidebarOpen = !this.isSidebarOpen;
          },
          isSettingsPanelOpen: false,
          isSearchBoxOpen: false,
        };
      };
    </script>
  </body>
</html>
